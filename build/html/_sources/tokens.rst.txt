Применение токенов
==================

Авторизация с помощью токена
----------------------------

Полученный при авторизации/регистрации токен должен передаваться в заголовоке следующим образом:

..  code-block::

    Authorization: Bearer [token]

Обработка ошибок
----------------

По умолчанию, время жизни токена составляет 30 дней. По истечению этого срока, а так же при любых других проблемах, связанных с его чтением (попадание в блэклист, невозможность парсинга закодированной в нем информации, и т.д), попытка его использования приведет к приведенной ниже ошибке. 

Текст ошибки ``errorMessage``, в отличии от ``статуса``, может меняться и, по возможности, должен быть залогирован на этапах тестирования, для удобства отлавливания багов.

..  code-block::

    Status: 401

..  code-block::

    {
        "status": false,
        "errorMessage": [
            "Token Signature could not be verified."
        ],
        "data": null
    }

В случае возникновения ошибки, необходимо попытаться снова авторизовать пользователя методом :ref:`login-label` 
